<link rel="stylesheet" type="text/css"
    href="https://cdn.datatables.net/v/bs4/dt-1.10.20/b-1.6.1/b-flash-1.6.1/r-2.2.3/sc-2.0.1/sp-1.0.1/sl-1.3.1/datatables.min.css" />

<script type="text/javascript"
    src="https://cdn.datatables.net/v/bs4/dt-1.10.20/b-1.6.1/b-flash-1.6.1/r-2.2.3/sc-2.0.1/sp-1.0.1/sl-1.3.1/datatables.min.js"></script>

<script>
    var url = window.location.href;
    url += "&format=csv"
    window.location.href = url;

    $(document).ready(function () {
        $('#table5').DataTable({
            "processing": true,
            "ajax": {
                "processing": true,
                "url": url,
                "dataSrc": ""
            },
        });
    });
</script>
x
<table cellpadding="0" cellspacing="0" border="0" id="table5">
    <thead>
        <tr>
            <th>My Attr Heading</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>